/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/tus-js-client@1.8.0/demos/cordova/www/js/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var upload=null,uploadIsRunning=!1,file=null,uploadButton=document.querySelector("#js-upload-button"),fileInput=document.querySelector("#js-upload-file"),fileLink=document.querySelector("#js-file-link"),progressBar=document.querySelector("#js-upload-progress"),progressText=document.querySelector("#js-upload-progress-text"),uploadLink=document.querySelector("#js-upload-link");function resetUpload(){upload&&(upload.abort(),upload=null),uploadButton.textContent="Start Upload",uploadLink.textContent="not available yet",progressText.textContent="",progressBar.removeAttribute("value")}function openFilePicker(){resetUpload();var e={destinationType:Camera.DestinationType.FILE_URI,sourceType:Camera.PictureSourceType.PHOTOLIBRARY,encodingType:Camera.EncodingType.JPEG,mediaType:Camera.MediaType.PICTURE,allowEdit:!0,correctOrientation:!0};navigator.camera.getPicture(getFileEntry,function(e){window.alert("Unable to obtain picture: "+e)},e)}function getFileEntry(e){window.resolveLocalFileSystemURL(e,function(e){e.file(function(e){file=e,fileLink.textContent=file.name})},function(e){window.alert("Could not create FileEntry: "+e)})}function toggleUpload(){if(upload)uploadIsRunning?(upload.abort(),uploadButton.textContent="Resume Upload",uploadIsRunning=!1):(upload.start(),uploadButton.textContent="Pause Upload",uploadIsRunning=!0);else{if(!file)return;var e={endpoint:"https://master.tus.io/files/",resume:!1,retryDelays:[0,1e3,3e3,5e3],metadata:{filename:file.name,filetype:file.type},onError:function(e){if(e.originalRequest){if(window.confirm("Failed because: "+e+"\nDo you want to retry?"))return upload.start(),void(uploadIsRunning=!0)}else window.alert("Failed because: "+e);resetUpload()},onProgress:function(e,t){var n=e/t,o=(100*n).toFixed(2)+"%";progressBar.value=n,progressText.textContent=o},onSuccess:function(){var e=document.createElement("a");e.textContent="Download "+upload.file.name+" ("+upload.file.size+" bytes)",e.target="_blank",e.href=upload.url,uploadLink.innerHTML="",uploadLink.appendChild(e)}};(upload=new tus.Upload(file,e)).start(),uploadIsRunning=!0,uploadButton.textContent="Pause Upload"}}fileInput.addEventListener("click",openFilePicker),uploadButton.addEventListener("click",toggleUpload);
//# sourceMappingURL=/sm/4f4f9be40f070b0e20d56d5fd06c9449734ffe60a9b1d793ba5a5166a0dc10a8.map