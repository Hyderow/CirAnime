/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/tus-js-client@1.8.0/demos/browser/demo.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var upload=null,uploadIsRunning=!1,toggleBtn=document.querySelector("#toggle-btn"),resumeCheckbox=document.querySelector("#resume"),input=document.querySelector("input[type=file]"),progress=document.querySelector(".progress"),progressBar=progress.querySelector(".bar"),alertBox=document.querySelector("#support-alert"),uploadList=document.querySelector("#upload-list"),chunkInput=document.querySelector("#chunksize"),endpointInput=document.querySelector("#endpoint");if(tus.isSupported||alertBox.classList.remove("hidden"),!toggleBtn)throw new Error("Toggle button not found on this page. Aborting upload-demo. ");function startUpload(){var e=input.files[0];if(e){var t=endpointInput.value,n=parseInt(chunkInput.value,10);isNaN(n)&&(n=1/0),toggleBtn.textContent="pause upload";var o={endpoint:t,resume:!resumeCheckbox.checked,chunkSize:n,retryDelays:[0,1e3,3e3,5e3],uploadDataDuringCreation:!0,metadata:{filename:e.name,filetype:e.type},onError:function(e){if(e.originalRequest){if(window.confirm("Failed because: "+e+"\nDo you want to retry?"))return upload.start(),void(uploadIsRunning=!0)}else window.alert("Failed because: "+e);reset()},onProgress:function(e,t){var n=(e/t*100).toFixed(2);progressBar.style.width=n+"%",console.log(e,t,n+"%")},onSuccess:function(){var e=document.createElement("a");e.textContent="Download "+upload.file.name+" ("+upload.file.size+" bytes)",e.href=upload.url,e.className="btn btn-success",uploadList.appendChild(e),reset()}};(upload=new tus.Upload(e,o)).start(),uploadIsRunning=!0}}function reset(){input.value="",toggleBtn.textContent="start upload",upload=null,uploadIsRunning=!1}toggleBtn.addEventListener("click",function(e){e.preventDefault(),upload?uploadIsRunning?(upload.abort(),toggleBtn.textContent="resume upload",uploadIsRunning=!1):(upload.start(),toggleBtn.textContent="pause upload",uploadIsRunning=!0):input.files.length>0?startUpload():input.click()}),input.addEventListener("change",startUpload);
//# sourceMappingURL=/sm/cd34253e1525505c7cb63bab09ab522fd8c0799551f4dfd2268e222d8d5e5092.map